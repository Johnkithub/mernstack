<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ú¶ DRACONIS NEBULA ‚ú¶ Realm of Fire</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow-x: hidden;
            overflow-y: auto;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
        }
        
        /* Video Background */
        .video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            z-index: -2;
            background: #330000;
        }
        
        .video-container video {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            object-fit: cover;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(255, 102, 0, 0.3), 
                rgba(255, 51, 0, 0.3)
            );
            z-index: -1;
            pointer-events: none;
            mix-blend-mode: overlay;
        }
        
        /* Floating Embers */
        .ember {
            position: fixed;
            width: 8px;
            height: 8px;
            background: #ff6600;
            border-radius: 50%;
            filter: blur(2px);
            box-shadow: 0 0 20px #ff6600;
            pointer-events: none;
            z-index: -1;
            animation: floatEmber linear infinite;
        }
        
        @keyframes floatEmber {
            from { transform: translateY(100vh) translateX(0); opacity: 1; }
            to { transform: translateY(-100px) translateX(100px); opacity: 0; }
        }
        
        /* Hero Section */
        .hero-section {
            position: relative;
            z-index: 1;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
        }
        
        .realm-title {
            font-size: 6rem;
            font-weight: 900;
            color: #ff6600;
            text-shadow: 0 0 30px #ff6600, 0 0 60px #ff3300;
            margin-bottom: 20px;
            animation: titleGlow 3s infinite alternate, floatTitle 6s infinite alternate;
            letter-spacing: 4px;
        }
        
        @keyframes titleGlow {
            from { text-shadow: 0 0 30px #ff6600, 0 0 60px #ff3300; }
            to { text-shadow: 0 0 50px #ff6600, 0 0 90px #ff3300; }
        }
        
        @keyframes floatTitle {
            from { transform: translateY(0); }
            to { transform: translateY(-20px); }
        }
        
        .subtitle {
            font-size: 1.8rem;
            color: #ffaa66;
            margin-bottom: 40px;
            letter-spacing: 6px;
            text-shadow: 0 0 20px #ff6600;
        }
        
        .description {
            max-width: 800px;
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 50px;
            background: rgba(255, 102, 0, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 30px;
            border: 2px solid #ff6600;
            box-shadow: 0 0 50px rgba(255,102,0,0.3);
        }
        
        .stats {
            display: flex;
            gap: 50px;
            margin-top: 30px;
        }
        
        .stat-box {
            background: rgba(255, 102, 0, 0.15);
            backdrop-filter: blur(10px);
            border: 2px solid #ff6600;
            padding: 25px 35px;
            border-radius: 30px;
            min-width: 180px;
            box-shadow: 0 0 40px rgba(255,102,0,0.4);
            animation: statPulse 3s infinite alternate;
        }
        
        @keyframes statPulse {
            from { box-shadow: 0 0 30px #ff6600; }
            to { box-shadow: 0 0 60px #ff3300; }
        }
        
        .stat-value {
            font-size: 3rem;
            font-weight: bold;
            color: gold;
        }
        
        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }
        
        .scroll-text {
            color: #ffaa66;
            font-size: 0.9rem;
            letter-spacing: 2px;
        }
        
        .scroll-arrow {
            width: 30px;
            height: 30px;
            border-left: 3px solid #ff6600;
            border-bottom: 3px solid #ff6600;
            transform: rotate(-45deg);
        }
        
        /* ========== EPIC GAME SECTION ========== */
        .game-section {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            padding: 80px 20px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-top: 4px solid #ff6600;
            border-bottom: 4px solid #ff6600;
        }
        
        .section-title {
            text-align: center;
            font-size: 4rem;
            color: #ff6600;
            margin-bottom: 20px;
            text-shadow: 0 0 30px #ff6600;
            animation: titlePulse 2s infinite;
        }
        
        @keyframes titlePulse {
            0%, 100% { text-shadow: 0 0 30px #ff6600; }
            50% { text-shadow: 0 0 60px #ff3300, 0 0 90px #ff6600; }
        }
        
        .game-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 30px;
            padding: 30px;
            background: rgba(255, 102, 0, 0.1);
            border: 3px solid #ff6600;
            border-radius: 50px;
            box-shadow: 0 0 100px rgba(255,102,0,0.3);
        }
        
        /* Game Arena */
        .game-arena {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 40px;
            padding: 20px;
            border: 3px solid #ff6600;
            position: relative;
            overflow: hidden;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(90deg, #ff6600, #ff3300);
            border-radius: 30px;
            color: black;
            font-weight: bold;
        }
        
        .score-display {
            font-size: 2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .score-display i {
            color: gold;
            filter: drop-shadow(0 0 10px gold);
        }
        
        .timer-display {
            font-size: 2rem;
            background: rgba(0,0,0,0.3);
            padding: 10px 25px;
            border-radius: 40px;
            color: white;
        }
        
        .game-board {
            position: relative;
            width: 100%;
            height: 500px;
            background: rgba(0, 0, 0, 0.5);
            border: 3px solid #ff6600;
            border-radius: 30px;
            overflow: hidden;
            cursor: none;
        }
        
        /* Dragon Player */
        .dragon-player {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ff6600, #ff3300);
            border-radius: 50% 50% 30% 30%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10;
            box-shadow: 0 0 50px #ff6600, 0 0 100px #ff3300;
            animation: dragonBreathe 1s infinite alternate;
        }
        
        .dragon-player::before {
            content: 'üêâ';
            position: absolute;
            top: -20px;
            left: 20px;
            font-size: 2rem;
            filter: drop-shadow(0 0 20px gold);
        }
        
        .dragon-player::after {
            content: '';
            position: absolute;
            top: 30px;
            right: -20px;
            width: 40px;
            height: 20px;
            background: radial-gradient(circle, gold, #ff6600);
            border-radius: 50%;
            filter: blur(5px);
            animation: flameFlicker 0.2s infinite alternate;
        }
        
        @keyframes dragonBreathe {
            from { transform: translate(-50%, -50%) scale(1); }
            to { transform: translate(-50%, -50%) scale(1.1); }
        }
        
        @keyframes flameFlicker {
            from { opacity: 0.5; transform: scale(1); }
            to { opacity: 1; transform: scale(1.3); }
        }
        
        /* Falling Items */
        .falling-item {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            animation: fall linear forwards;
            filter: drop-shadow(0 0 20px currentColor);
        }
        
        @keyframes fall {
            from { top: -50px; }
            to { top: 100%; }
        }
        
        .flame-item {
            background: radial-gradient(circle, gold, #ff6600);
            box-shadow: 0 0 40px gold;
        }
        
        .flame-item::before {
            content: 'üî•';
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 1.5rem;
        }
        
        .ember-item {
            background: radial-gradient(circle, #ff6600, #ff3300);
            box-shadow: 0 0 40px #ff6600;
        }
        
        .ember-item::before {
            content: '‚ú®';
            position: absolute;
            top: 10px;
            left: 15px;
            font-size: 1.5rem;
        }
        
        .comet-item {
            background: radial-gradient(circle, #00ffff, #0066cc);
            box-shadow: 0 0 40px #00ffff;
        }
        
        .comet-item::before {
            content: '‚òÑÔ∏è';
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 1.5rem;
        }
        
        /* Power-up effects */
        @keyframes powerupPulse {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(90deg); }
        }
        
        .powerup-active {
            animation: powerupPulse 0.5s infinite;
        }
        
        /* Game Info Panel */
        .game-info {
            padding: 30px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 40px;
            border: 2px solid #ff6600;
        }
        
        .game-info h2 {
            font-size: 2.5rem;
            color: gold;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 20px gold;
        }
        
        .combo-display {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #ff6600, #ff3300);
            border-radius: 30px;
        }
        
        .combo-text {
            font-size: 1.5rem;
            color: black;
        }
        
        .combo-count {
            font-size: 3rem;
            font-weight: bold;
            color: gold;
            text-shadow: 0 0 30px gold;
        }
        
        .multiplier {
            font-size: 1.2rem;
            color: #ffaa66;
        }
        
        .powerup-status {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 102, 0, 0.2);
            border-radius: 20px;
            text-align: center;
        }
        
        .powerup-bar {
            width: 100%;
            height: 20px;
            background: rgba(0,0,0,0.5);
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .powerup-fill {
            height: 100%;
            background: linear-gradient(90deg, gold, #ff6600);
            width: 0%;
            transition: width 0.3s;
        }
        
        .game-controls {
            display: flex;
            gap: 15px;
            margin: 30px 0;
        }
        
        .game-btn {
            flex: 1;
            padding: 18px;
            font-size: 1.2rem;
            font-weight: bold;
            border: none;
            border-radius: 40px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .start-btn {
            background: linear-gradient(45deg, gold, #ff6600);
            color: black;
            box-shadow: 0 0 30px gold;
        }
        
        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 60px gold;
        }
        
        .reset-btn {
            background: #333;
            color: white;
            border: 2px solid #ff6600;
        }
        
        .reset-btn:hover {
            background: #ff6600;
            color: black;
        }
        
        .game-message {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            font-size: 1.3rem;
            background: rgba(255, 102, 0, 0.2);
            border-radius: 30px;
            border: 2px solid #ff6600;
            animation: messagePulse 2s infinite;
        }
        
        @keyframes messagePulse {
            0%, 100% { border-color: #ff6600; }
            50% { border-color: gold; }
        }
        
        /* Items Collected */
        .collected-items {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 30px;
        }
        
        .item-stat {
            text-align: center;
        }
        
        .item-icon {
            font-size: 2rem;
        }
        
        .item-count {
            font-size: 1.5rem;
            color: gold;
        }
        
        /* Leaderboard */
        .leaderboard {
            margin-top: 40px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.5);
            border: 3px solid #ff6600;
            border-radius: 40px;
        }
        
        .leaderboard h3 {
            font-size: 2rem;
            color: gold;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .leaderboard-list {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 25px;
            margin: 10px 0;
            background: rgba(255, 102, 0, 0.1);
            border: 2px solid #ff6600;
            border-radius: 40px;
            font-size: 1.1rem;
            animation: slideIn 0.5s;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .leaderboard-rank {
            color: gold;
            font-weight: bold;
        }
        
        .leaderboard-name {
            color: #ffaa66;
        }
        
        .leaderboard-score {
            color: gold;
            font-weight: bold;
        }
        
        .rank-1 { border-color: gold; background: rgba(255,215,0,0.2); }
        .rank-2 { border-color: silver; background: rgba(192,192,192,0.2); }
        .rank-3 { border-color: #cd7f32; background: rgba(205,127,50,0.2); }
        
        /* Back button */
        .back-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            background: #ff6600;
            color: black;
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            z-index: 100;
            border: 2px solid gold;
            transition: all 0.3s;
            box-shadow: 0 0 20px #ff6600;
        }
        
        .back-btn:hover {
            transform: scale(1.1);
            background: gold;
            color: black;
        }
        
        .video-status {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(10px);
            color: #ff6600;
            padding: 10px 20px;
            border-radius: 50px;
            border: 2px solid #ff6600;
            z-index: 100;
        }
        
        .play-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #ff6600;
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 100;
            display: none;
            box-shadow: 0 0 30px #ff6600;
            border: 2px solid gold;
        }
        
        .play-btn.visible {
            display: block;
        }
        
        .dragon-symbol {
            position: fixed;
            font-size: 4rem;
            opacity: 0.2;
            pointer-events: none;
            z-index: -1;
            animation: spin 30s linear infinite;
            color: #ff6600;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .symbol1 { top: 10%; left: 10%; }
        .symbol2 { bottom: 10%; right: 10%; }
        .symbol3 { top: 20%; right: 20%; }
        .symbol4 { bottom: 20%; left: 20%; }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .game-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .realm-title { font-size: 3rem; }
            .subtitle { font-size: 1.2rem; }
            .stats { flex-direction: column; gap: 20px; }
            .stat-box { min-width: auto; }
            .game-board { height: 400px; }
            .game-header { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">‚Üê RETURN TO REALMS</a>
    
    <!-- Video Background -->
    <div class="video-container">
        <video autoplay muted loop playsinline id="dragonVideo">
            <source src="assets/videos/dragon-bg.mp4" type="video/mp4">
            <source src="dragon-bg.mp4" type="video/mp4">
            <source src="https://videos.pexels.com/video-files/3129980/3129980-uhd_3840_2160_25fps.mp4" type="video/mp4">
        </video>
    </div>
    
    <div class="overlay"></div>
    
    <div class="dragon-symbol symbol1">üêâ</div>
    <div class="dragon-symbol symbol2">üî•</div>
    <div class="dragon-symbol symbol3">‚ö°</div>
    <div class="dragon-symbol symbol4">üåã</div>
    
    <!-- Hero Section -->
    <section class="hero-section">
        <h1 class="realm-title">DRACONIS NEBULA</h1>
        <div class="subtitle">‚ú¶ Realm of Eternal Fire ‚ú¶</div>
        
        <div class="description">
            A realm of primordial fire where stars are born from dragon's breath.
            The Great Wyrm Ignis sleeps here, dreaming novas into existence.
            His scales form constellations across the cosmos, and his breath
            ignites new stars across the universe.
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">POWER</div>
                <div class="stat-value">95%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">MAGIC</div>
                <div class="stat-value">80%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">WISDOM</div>
                <div class="stat-value">70%</div>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="scroll-indicator" onclick="scrollToGame()">
            <div class="scroll-text">PLAY DRAGON GAME</div>
            <div class="scroll-arrow"></div>
        </div>
    </section>
    
    <!-- EPIC GAME Section -->
    <section class="game-section" id="gameSection">
        <h2 class="section-title">‚ú¶ DRAGON FLAME CATCHER ‚ú¶</h2>
        
        <div class="game-container">
            <!-- Game Arena -->
            <div class="game-arena">
                <div class="game-header">
                    <div class="score-display">
                        <i>üèÜ</i>
                        <span id="gameScore">0</span>
                    </div>
                    <div class="timer-display" id="gameTimer">60s</div>
                </div>
                
                <div class="game-board" id="gameBoard">
                    <!-- Dragon player (controlled by mouse) -->
                    <div class="dragon-player" id="dragonPlayer"></div>
                    <!-- Falling items will appear here -->
                </div>
                
                <!-- Collected Items Stats -->
                <div class="collected-items">
                    <div class="item-stat">
                        <div class="item-icon">üî•</div>
                        <div class="item-count" id="flameCount">0</div>
                    </div>
                    <div class="item-stat">
                        <div class="item-icon">‚ú®</div>
                        <div class="item-count" id="emberCount">0</div>
                    </div>
                    <div class="item-stat">
                        <div class="item-icon">‚òÑÔ∏è</div>
                        <div class="item-count" id="cometCount">0</div>
                    </div>
                </div>
            </div>
            
            <!-- Game Info Panel -->
            <div class="game-info">
                <h2>‚ö° DRAGON POWERS</h2>
                
                <!-- Combo Display -->
                <div class="combo-display">
                    <div class="combo-text">COMBO</div>
                    <div class="combo-count" id="comboCount">0</div>
                    <div class="multiplier" id="multiplier">1x</div>
                </div>
                
                <!-- Power-up Status -->
                <div class="powerup-status">
                    <div style="display: flex; justify-content: space-between;">
                        <span>üî• FLAME POWER</span>
                        <span id="powerupTimer">0s</span>
                    </div>
                    <div class="powerup-bar">
                        <div class="powerup-fill" id="powerupBar"></div>
                    </div>
                </div>
                
                <!-- Game Controls -->
                <div class="game-controls">
                    <button class="game-btn start-btn" id="startGameBtn" onclick="startGame()">üî• START GAME</button>
                    <button class="game-btn reset-btn" id="resetGameBtn" onclick="resetGame()">üîÑ RESET</button>
                </div>
                
                <!-- Game Message -->
                <div class="game-message" id="gameMessage">
                    Move your mouse to control the dragon!
                </div>
                
                <!-- Quick Stats -->
                <div style="text-align: center; margin-top: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div style="background: rgba(255,102,0,0.2); padding: 10px; border-radius: 20px;">
                            <div>üî• Flames</div>
                            <div style="color: gold;">+10</div>
                        </div>
                        <div style="background: rgba(255,102,0,0.2); padding: 10px; border-radius: 20px;">
                            <div>‚ú® Embers</div>
                            <div style="color: gold;">+5</div>
                        </div>
                        <div style="background: rgba(255,102,0,0.2); padding: 10px; border-radius: 20px;">
                            <div>‚òÑÔ∏è Comets</div>
                            <div style="color: gold;">+20</div>
                        </div>
                        <div style="background: rgba(255,102,0,0.2); padding: 10px; border-radius: 20px;">
                            <div>üéØ Combo</div>
                            <div style="color: gold;">2x</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Leaderboard -->
        <div class="leaderboard">
            <h3>üèÜ DRAGON LEGENDS üèÜ</h3>
            <div class="leaderboard-list" id="leaderboardList">
                <!-- Leaderboard items will appear here -->
            </div>
        </div>
    </section>
    
    <div class="video-status" id="videoStatus">üîç Loading dragon realm...</div>
    <button class="play-btn" id="playBtn" onclick="playVideo()">‚ñ∂</button>
    
    <script>
        // ========== VIDEO HANDLING ==========
        const video = document.getElementById('dragonVideo');
        const statusDiv = document.getElementById('videoStatus');
        const playBtn = document.getElementById('playBtn');
        
        function createEmbers() {
            const container = document.createElement('div');
            container.style.position = 'fixed';
            container.style.top = '0';
            container.style.left = '0';
            container.style.width = '100%';
            container.style.height = '100%';
            container.style.pointerEvents = 'none';
            container.style.zIndex = '-1';
            document.body.appendChild(container);
            
            for (let i = 0; i < 50; i++) {
                const ember = document.createElement('div');
                ember.className = 'ember';
                ember.style.left = Math.random() * 100 + '%';
                ember.style.animationDuration = (Math.random() * 8 + 4) + 's';
                ember.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(ember);
            }
        }
        
        function attemptPlay() {
            video.play()
                .then(() => {
                    statusDiv.textContent = '‚úÖ Dragon realm active';
                    playBtn.classList.remove('visible');
                })
                .catch(() => {
                    statusDiv.textContent = 'üî• Click to awaken dragon';
                    playBtn.classList.add('visible');
                });
        }
        
        video.addEventListener('loadeddata', function() {
            statusDiv.textContent = '‚úÖ Fire burning...';
            attemptPlay();
        });
        
        function playVideo() {
            video.play();
            playBtn.classList.remove('visible');
            statusDiv.textContent = '‚ñ∂ Dragon awakened';
        }
        
        // ========== SCROLL FUNCTION ==========
        function scrollToGame() {
            document.getElementById('gameSection').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        // ========== EPIC DRAGON GAME ==========
        let score = 0;
        let timeLeft = 60;
        let gameActive = false;
        let gameInterval;
        let spawnInterval;
        let combo = 0;
        let multiplier = 1;
        let powerupActive = false;
        let powerupTime = 0;
        
        // Item counters
        let flames = 0;
        let embers = 0;
        let comets = 0;
        
        // Dragon position
        let dragonX = 400;
        let dragonY = 400;
        
        // Leaderboard
        let leaderboard = JSON.parse(localStorage.getItem('dragonLeaderboard')) || [
            { name: 'DragonMaster', score: 1250 },
            { name: 'FlameLord', score: 980 },
            { name: 'EmberKing', score: 750 },
            { name: 'ScaleHunter', score: 620 },
            { name: 'WyrmSlayer', score: 500 }
        ];
        
        // Initialize
        const dragon = document.getElementById('dragonPlayer');
        const gameBoard = document.getElementById('gameBoard');
        
        // Mouse move event for dragon
        gameBoard.addEventListener('mousemove', (e) => {
            if (!gameActive) return;
            
            const rect = gameBoard.getBoundingClientRect();
            dragonX = e.clientX - rect.left;
            dragonY = e.clientY - rect.top;
            
            // Keep dragon within bounds
            dragonX = Math.max(40, Math.min(rect.width - 40, dragonX));
            dragonY = Math.max(40, Math.min(rect.height - 40, dragonY));
            
            dragon.style.left = dragonX + 'px';
            dragon.style.top = dragonY + 'px';
        });
        
        function startGame() {
            if (gameActive) return;
            
            // Reset game
            reset();
            gameActive = true;
            document.getElementById('gameMessage').textContent = 'üî• CATCH THE FLAMES! COMBO READY!';
            
            // Start timer
            gameInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('gameTimer').textContent = timeLeft + 's';
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
            
            // Start spawning items
            spawnInterval = setInterval(spawnItem, 500);
            
            // Power-up timer
            setInterval(() => {
                if (powerupActive) {
                    powerupTime--;
                    document.getElementById('powerupTimer').textContent = powerupTime + 's';
                    document.getElementById('powerupBar').style.width = (powerupTime / 10) * 100 + '%';
                    
                    if (powerupTime <= 0) {
                        powerupActive = false;
                        multiplier = 1;
                        document.getElementById('multiplier').textContent = multiplier + 'x';
                        dragon.classList.remove('powerup-active');
                    }
                }
            }, 1000);
        }
        
        function reset() {
            gameActive = false;
            clearInterval(gameInterval);
            clearInterval(spawnInterval);
            
            // Reset values
            score = 0;
            timeLeft = 60;
            combo = 0;
            multiplier = 1;
            powerupActive = false;
            flames = 0;
            embers = 0;
            comets = 0;
            
            // Update displays
            updateDisplays();
            
            // Clear game board (keep dragon)
            const items = document.querySelectorAll('.falling-item');
            items.forEach(item => item.remove());
            
            document.getElementById('gameMessage').textContent = 'Game reset. Click START to play!';
        }
        
        function resetGame() {
            reset();
        }
        
        function spawnItem() {
            if (!gameActive) return;
            
            const types = [
                { class: 'flame-item', points: 10, count: 'flame' },
                { class: 'ember-item', points: 5, count: 'ember' },
                { class: 'comet-item', points: 20, count: 'comet' }
            ];
            
            // Random type (weighted)
            let type;
            const rand = Math.random();
            if (rand < 0.5) type = types[0]; // 50% flames
            else if (rand < 0.8) type = types[1]; // 30% embers
            else type = types[2]; // 20% comets
            
            const item = document.createElement('div');
            item.className = `falling-item ${type.class}`;
            
            // Random position
            const boardWidth = gameBoard.clientWidth - 50;
            const left = Math.random() * boardWidth;
            
            item.style.left = left + 'px';
            item.style.animationDuration = (Math.random() * 2 + 2) + 's';
            
            // Store item data
            item.dataset.points = type.points;
            item.dataset.type = type.count;
            
            gameBoard.appendChild(item);
            
            // Check collision every 100ms
            const checkInterval = setInterval(() => {
                if (!gameActive || !item.parentNode) {
                    clearInterval(checkInterval);
                    return;
                }
                
                const itemRect = item.getBoundingClientRect();
                const dragonRect = dragon.getBoundingClientRect();
                
                // Collision detection
                if (itemRect.left < dragonRect.right &&
                    itemRect.right > dragonRect.left &&
                    itemRect.top < dragonRect.bottom &&
                    itemRect.bottom > dragonRect.top) {
                    
                    // Item caught!
                    clearInterval(checkInterval);
                    item.remove();
                    
                    // Calculate points with combo
                    let points = parseInt(item.dataset.points) * multiplier;
                    score += points;
                    
                    // Update counters
                    if (item.dataset.type === 'flame') {
                        flames++;
                        combo++;
                    } else if (item.dataset.type === 'ember') {
                        embers++;
                        combo = Math.max(0, combo - 1);
                    } else if (item.dataset.type === 'comet') {
                        comets++;
                        combo += 2;
                        // Comet gives power-up
                        powerupActive = true;
                        powerupTime = 10;
                        multiplier = 2;
                        dragon.classList.add('powerup-active');
                    }
                    
                    // Update combo
                    if (combo >= 5) {
                        multiplier = 2;
                    } else if (combo >= 3) {
                        multiplier = 1.5;
                    } else {
                        multiplier = 1;
                    }
                    
                    // Update displays
                    updateDisplays();
                    
                    // Visual feedback
                    createExplosion(itemRect.left, itemRect.top);
                }
            }, 100);
            
            // Remove item after animation
            setTimeout(() => {
                if (item.parentNode) {
                    item.remove();
                    clearInterval(checkInterval);
                    combo = 0;
                    updateDisplays();
                }
            }, 4000);
        }
        
        function createExplosion(x, y) {
            const explosion = document.createElement('div');
            explosion.style.position = 'absolute';
            explosion.style.left = (x - gameBoard.getBoundingClientRect().left) + 'px';
            explosion.style.top = (y - gameBoard.getBoundingClientRect().top) + 'px';
            explosion.style.width = '60px';
            explosion.style.height = '60px';
            explosion.style.background = 'radial-gradient(circle, gold, #ff6600)';
            explosion.style.borderRadius = '50%';
            explosion.style.opacity = '0.8';
            explosion.style.animation = 'explode 0.3s forwards';
            
            gameBoard.appendChild(explosion);
            
            setTimeout(() => explosion.remove(), 300);
        }
        
        function updateDisplays() {
            document.getElementById('gameScore').textContent = score;
            document.getElementById('flameCount').textContent = flames;
            document.getElementById('emberCount').textContent = embers;
            document.getElementById('cometCount').textContent = comets;
            document.getElementById('comboCount').textContent = combo;
            document.getElementById('multiplier').textContent = multiplier + 'x';
        }
        
        function endGame() {
            gameActive = false;
            clearInterval(gameInterval);
            clearInterval(spawnInterval);
            
            document.getElementById('gameMessage').textContent = '‚è∞ GAME OVER! Final Score: ' + score;
            
            // Add to leaderboard
            let playerName = prompt('üèÜ GAME OVER! Enter your name for the leaderboard:', 'DragonSlayer');
            if (!playerName) playerName = 'DragonSlayer';
            
            leaderboard.push({ name: playerName, score: score });
            leaderboard.sort((a, b) => b.score - a.score);
            leaderboard = leaderboard.slice(0, 10);
            
            localStorage.setItem('dragonLeaderboard', JSON.stringify(leaderboard));
            updateLeaderboard();
        }
        
        function updateLeaderboard() {
            const list = document.getElementById('leaderboardList');
            list.innerHTML = '';
            
            leaderboard.forEach((entry, index) => {
                const item = document.createElement('div');
                item.className = `leaderboard-item rank-${index + 1}`;
                
                item.innerHTML = `
                    <span class="leaderboard-rank">#${index + 1}</span>
                    <span class="leaderboard-name">${entry.name}</span>
                    <span class="leaderboard-score">${entry.score}</span>
                `;
                
                list.appendChild(item);
            });
        }
        
        // Add explode animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes explode {
                0% { transform: scale(1); opacity: 0.8; }
                100% { transform: scale(3); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // Mouse move effect for title
        document.addEventListener('mousemove', (e) => {
            const x = (e.clientX / window.innerWidth - 0.5) * 20;
            const y = (e.clientY / window.innerHeight - 0.5) * 20;
            document.querySelector('.realm-title').style.transform = `translate(${x}px, ${y}px)`;
        });
        
        // Initialize
        createEmbers();
        attemptPlay();
        updateLeaderboard();
    </script>
</body>
</html>